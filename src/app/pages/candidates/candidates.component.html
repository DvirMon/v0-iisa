<div class="candidates-container">
  <mat-card class="candidates-card">
    <mat-card-header>
      <div class="candidates-header">
        <div class="header-info">
          <mat-card-title>Candidate Management</mat-card-title>
          <mat-card-subtitle
            >Search, filter, and manage spaceflight
            candidates</mat-card-subtitle
          >
        </div>
      </div>
    </mat-card-header>
    <app-candidate-filters
      [filters]="filters()"
      [viewMode]="viewMode()"
      [resultCount]="filteredCandidates().length"
      [totalCount]="dashboardService.totalCandidates()"
      [loading]="filtersLoading()"
      (searchChange)="onSearchChange($event)"
      (statusFilterChange)="onStatusFilterChange($event)"
      (cityFilterChange)="onCityFilterChange($event)"
      (ageFilterChange)="onAgeFilterChange($event)"
      (dateFilterChange)="onDateFilterChange($event)"
      (sortChange)="onSortChange($event)"
      (clearFilters)="clearFilters()"
      (toggleView)="toggleViewMode($event)"
      (exportFiltered)="onExportFiltered()"
      (removeFilter)="onRemoveFilter($event)">
      >
    </app-candidate-filters>

    <mat-card-content>
      <!-- Grid View -->
      <!-- @if (viewMode() === 'grid') {
      <div class="candidates-grid">
        @for (candidate of filteredCandidates(); track candidate) {
        <mat-card
          class="candidate-card"
          (click)="viewCandidateDetail(candidate)">
          <mat-card-content>
            <div class="candidate-info">
              <img
                [src]="candidate.image"
                [alt]="candidate.name"
                class="candidate-avatar" />
              <div class="candidate-details">
                <h3 class="candidate-name">{{ candidate.name }}</h3>
                <p class="candidate-location">
                  <mat-icon class="location-icon">place</mat-icon>
                  {{ candidate.city }} â€¢ Age {{ candidate.age }}
                </p>
                <p class="candidate-summary">{{ candidate.summary }}</p>
                <div class="candidate-footer">
                  <span class="application-date">{{
                    candidate.applicationDate
                  }}</span>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
        }
      </div>
      } -->

      <!-- Table View -->

      <!-- Empty State -->
      @if (filteredCandidates().length === 0) {
      <div class="empty-state">
        <mat-icon class="empty-icon">people_outline</mat-icon>
        <h3>No candidates found</h3>
        <p>Try adjusting your search or filter criteria</p>
      </div>
      }
    </mat-card-content>
  </mat-card>
</div>
